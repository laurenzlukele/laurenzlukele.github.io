import{e as E,r as u,s as _,f as R,c,a as e,b as p,g as o,F as g,i as $,w as z,p as V,h as D,o as n,j as F,k as L,t as f,n as w,l as k,S as M,m as q,E as G}from"./Db7wupdl.js";import{_ as H}from"./CeX9lMj8.js";const J={class:"viewport"},K={class:"scene-container"},Q={style:{display:"none"},"aria-hidden":"true"},W=["aria-label","onClick"],X={class:"hotspot-label"},Y={class:"flex flex-col md:flex-row h-125 overflow-hidden bg-gray-900 text-white"},Z={class:"w-full md:w-5/12 bg-linear-to-br from-indigo-900 to-purple-900 flex flex-col items-center justify-center p-8 relative"},ee={class:"relative w-48 h-48 md:w-56 md:h-56 shadow-2xl rounded-full border-4 border-white/10 flex items-center justify-center"},te={class:"w-full md:w-7/12 bg-gray-950 flex flex-col"},se={class:"flex-1 overflow-y-auto p-2 space-y-1"},le=["onClick"],oe={class:"flex items-center gap-4"},ae={class:"w-6 text-center text-sm font-medium text-white/50"},ne={key:1},ie={class:"text-xs text-white/40 font-mono"},re={class:"p-6 bg-gray-900 border-t border-white/10"},ce={class:"mb-4 text-center"},de={class:"text-sm font-bold text-white"},ue={class:"flex items-center justify-center gap-6"},pe=["src"],_e=E({__name:"recordplayer",setup(ve){const m=u(!1),v=u(!1),l=u(!1),h=u([]),a=u(0),r=u(null),y=_(()=>h.value[a.value]),N=_(()=>y.value?`/audio/${y.value.file}`:""),C=_(()=>a.value<h.value.length-1),T=_(()=>a.value>0),A=()=>{r.value&&(r.value.paused?(r.value.play().catch(i=>console.error(i)),l.value=!0):(r.value.pause(),l.value=!1))},B=i=>{a.value=i,l.value=!0},P=()=>{C.value?(a.value++,l.value=!0):l.value=!1},S=()=>{T.value&&(a.value--,l.value=!0)},I=i=>{h.value=i,a.value=0,m.value=!0,setTimeout(()=>{v.value=!0,G(()=>{l.value=!0})},500)};R(v,i=>{i||(r.value&&(r.value.pause(),l.value=!1),setTimeout(()=>{m.value=!1},500))});const O=[{id:1,x:46,y:60,label:"Open record player",visible:()=>!m.value,action:()=>I([{title:"Title Music",file:"track01.mp3",duration:"4:05"},{title:"The Discovery",file:"track02.mp3",duration:"1:36"},{title:"Running Away",file:"track03.mp3",duration:"2:12"}])}];return(i,t)=>{const j=D,b=M,x=q,U=H;return n(),c("div",J,[e("div",K,[p(j,{src:o(m)?"/images/recordplayer-open.jpg":"/images/recordplayer-closed.jpg",alt:"Record player closeup",class:"scene-image",preload:""},null,8,["src"]),e("div",Q,[p(j,{src:"/images/recordplayer-open.jpg"})]),(n(),c(g,null,$(O,s=>(n(),c(g,{key:s.id},[!s.visible||s.visible()?(n(),c("button",{key:0,class:"hotspot",style:L({left:`${s.x}%`,top:`${s.y}%`}),"aria-label":s.label,onClick:s.action},[t[3]||(t[3]=e("span",{class:"hotspot-ring"},null,-1)),t[4]||(t[4]=e("span",{class:"hotspot-dot"},null,-1)),e("span",X,f(s.label),1)],12,W)):F("",!0)],64))),64))]),p(U,{open:o(v),"onUpdate:open":t[2]||(t[2]=s=>V(v)?v.value=s:null),ui:{content:"sm:max-w-4xl"},title:"Now Playing"},{content:z(()=>[e("div",Y,[e("div",Z,[e("div",ee,[e("div",{class:w(["w-full h-full rounded-full overflow-hidden bg-black",{"animate-spin-slow":o(l)}])},[...t[5]||(t[5]=[e("div",{class:"w-full h-full bg-[url('https://placehold.co/400')] bg-cover opacity-80"},null,-1)])],2),t[6]||(t[6]=e("div",{class:"absolute w-16 h-16 bg-red-600 rounded-full border-4 border-black z-10"},null,-1))]),t[7]||(t[7]=e("div",{class:"mt-8 text-center"},[e("h2",{class:"text-2xl font-bold tracking-tight"},"Tethered"),e("p",{class:"text-white/60 text-sm mt-1 uppercase tracking-widest"}," Original Soundtrack ")],-1))]),e("div",te,[t[8]||(t[8]=e("div",{class:"p-6 border-b border-white/10"},[e("h3",{class:"text-lg font-medium text-white/90"},"Tracklist")],-1)),e("div",se,[(n(!0),c(g,null,$(o(h),(s,d)=>(n(),c("button",{key:d,class:w(["w-full flex items-center justify-between p-3 rounded-md transition-colors group text-left",o(a)===d?"bg-white/10":"hover:bg-white/5"]),onClick:fe=>B(d)},[e("div",oe,[e("div",ae,[o(a)===d&&o(l)?(n(),k(b,{key:0,name:"i-heroicons-musical-note-20-solid",class:"text-primary-400 animate-pulse"})):(n(),c("span",ne,f(d+1),1))]),e("div",{class:w(o(a)===d?"text-primary-400 font-bold":"text-white/90")},f(s.title),3)]),e("div",ie,f(s.duration),1)],10,le))),128))]),e("div",re,[e("div",ce,[e("div",de,f(o(y)?.title),1)]),e("div",ue,[e("audio",{ref_key:"audioPlayer",ref:r,src:o(N),autoplay:"",onEnded:P,onPlay:t[0]||(t[0]=s=>l.value=!0),onPause:t[1]||(t[1]=s=>l.value=!1)},null,40,pe),p(x,{icon:"i-heroicons-backward-20-solid",variant:"ghost",color:"neutral",disabled:!o(T),onClick:S},null,8,["disabled"]),p(x,{size:"xl",color:"primary",variant:"solid",class:"rounded-full w-14 h-14 flex items-center justify-center shadow-lg shadow-primary-500/20",onClick:A},{default:z(()=>[o(l)?(n(),k(b,{key:0,name:"i-heroicons-pause-20-solid",class:"size-5"})):(n(),k(b,{key:1,name:"i-heroicons-play-20-solid",class:"size-5"}))]),_:1}),p(x,{icon:"i-heroicons-forward-20-solid",variant:"ghost",color:"neutral",disabled:!o(C),onClick:P},null,8,["disabled"])])])])])]),_:1},8,["open"])])}}});export{_e as default};
